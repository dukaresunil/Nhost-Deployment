"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var l=require("xstate"),Ee=require("axios"),he=require("js-cookie");function j(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var ge=j(Ee),K=j(he);function pe(r){return new TextEncoder().encode(r)}function y(r){const e=new Uint8Array(r);let n="";for(const t of e)n+=String.fromCharCode(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function q(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4,s=e.padEnd(e.length+n,"="),t=atob(s),i=new ArrayBuffer(t.length),u=new Uint8Array(i);for(let f=0;f<t.length;f++)u[f]=t.charCodeAt(f);return i}function B(){return(window==null?void 0:window.PublicKeyCredential)!==void 0&&typeof window.PublicKeyCredential=="function"}function z(r){const{id:e}=r;return{...r,id:q(e),transports:r.transports}}function Q(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}class g extends Error{constructor(e,n="WebAuthnError"){super(e),this.name=n}}function Te({error:r,options:e}){var n,s;const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal===new AbortController().signal)return new g("Registration ceremony was sent an abort signal","AbortError")}else if(r.name==="ConstraintError"){if(((n=t.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new g("Discoverable credentials were required but no available authenticator supported it","ConstraintError");if(((s=t.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new g("User verification was required but no available authenticator supported it","ConstraintError")}else{if(r.name==="InvalidStateError")return new g("The authenticator was previously registered","InvalidStateError");if(r.name==="NotAllowedError")return new g("User clicked cancel, or the registration ceremony timed out","NotAllowedError");if(r.name==="NotSupportedError")return t.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new g('No entry in pubKeyCredParams was of type "public-key"',"NotSupportedError"):new g("No available authenticator supported any of the specified pubKeyCredParams algorithms","NotSupportedError");if(r.name==="SecurityError"){const i=window.location.hostname;if(Q(i)){if(t.rp.id!==i)return new g(`The RP ID "${t.rp.id}" is invalid for this domain`,"SecurityError")}else return new g(`${window.location.hostname} is an invalid domain`,"SecurityError")}else if(r.name==="TypeError"){if(t.user.id.byteLength<1||t.user.id.byteLength>64)return new g("User ID was not between 1 and 64 characters","TypeError")}else if(r.name==="UnknownError")return new g("The authenticator was unable to process the specified options, or could not create a new credential","UnknownError")}return r}class we{createNewAbortSignal(){return this.controller&&this.controller.abort(),this.controller=new AbortController,this.controller.signal}reset(){this.controller=void 0}}const D=new we;async function X(r){if(!B())throw new Error("WebAuthn is not supported in this browser");const n={publicKey:{...r,challenge:q(r.challenge),user:{...r.user,id:pe(r.user.id)},excludeCredentials:r.excludeCredentials.map(z)}};n.signal=D.createNewAbortSignal();let s;try{s=await navigator.credentials.create(n)}catch(p){throw Te({error:p,options:n})}finally{D.reset()}if(!s)throw new Error("Registration was not completed");const{id:t,rawId:i,response:u,type:f}=s,h={id:t,rawId:y(i),response:{attestationObject:y(u.attestationObject),clientDataJSON:y(u.clientDataJSON)},type:f,clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:s.authenticatorAttachment};return typeof u.getTransports=="function"&&(h.transports=u.getTransports()),h}function Re(r){return new TextDecoder("utf-8").decode(r)}async function _e(){if(navigator.credentials.conditionalMediationSupported)return!0;const r=window.PublicKeyCredential;return r.isConditionalMediationAvailable!==void 0&&r.isConditionalMediationAvailable()}function Ie({error:r,options:e}){var n;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal===new AbortController().signal)return new g("Authentication ceremony was sent an abort signal","AbortError")}else{if(r.name==="NotAllowedError")return!((n=s.allowCredentials)===null||n===void 0)&&n.length?new g("No available authenticator recognized any of the allowed credentials","NotAllowedError"):new g("User clicked cancel, or the authentication ceremony timed out","NotAllowedError");if(r.name==="SecurityError"){const t=window.location.hostname;if(Q(t)){if(s.rpId!==t)return new g(`The RP ID "${s.rpId}" is invalid for this domain`,"SecurityError")}else return new g(`${window.location.hostname} is an invalid domain`,"SecurityError")}else if(r.name==="UnknownError")return new g("The authenticator was unable to process the specified options, or could not create a new assertion signature","UnknownError")}return r}async function Se(r,e=!1){var n,s;if(!B())throw new Error("WebAuthn is not supported in this browser");let t;((n=r.allowCredentials)===null||n===void 0?void 0:n.length)!==0&&(t=(s=r.allowCredentials)===null||s===void 0?void 0:s.map(z));const i={...r,challenge:q(r.challenge),allowCredentials:t},u={};if(e){if(!await _e())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete*='webauthn']").length<1)throw Error('No <input> with `"webauthn"` in its `autocomplete` attribute was detected');u.mediation="conditional",i.allowCredentials=[]}u.publicKey=i,u.signal=D.createNewAbortSignal();let f;try{f=await navigator.credentials.get(u)}catch(o){throw Ie({error:o,options:u})}finally{D.reset()}if(!f)throw new Error("Authentication was not completed");const{id:h,rawId:p,response:E,type:I}=f;let m;return E.userHandle&&(m=Re(E.userHandle)),{id:h,rawId:y(p),response:{authenticatorData:y(E.authenticatorData),clientDataJSON:y(E.clientDataJSON),signature:y(E.signature),userHandle:m},type:I,clientExtensionResults:f.getClientExtensionResults(),authenticatorAttachment:f.authenticatorAttachment}}const O="nhostRefreshToken",P="nhostRefreshTokenExpiresAt",J=3,Z=300,ee=5,Ae=30,W=0,F=1,w=10,k=20;class b extends Error{constructor(e){super(e.message),Error.captureStackTrace(this,this.constructor),e instanceof Error?(this.name=e.name,this.error={error:e.name,status:F,message:e.message}):(this.name=e.error,this.error=e)}}const S={status:w,error:"invalid-email",message:"Email is incorrectly formatted"},re={status:w,error:"invalid-mfa-type",message:"MFA type is invalid"},se={status:w,error:"invalid-mfa-code",message:"MFA code is invalid"},M={status:w,error:"invalid-password",message:"Password is incorrectly formatted"},V={status:w,error:"invalid-phone-number",message:"Phone number is incorrectly formatted"},te={status:w,error:"invalid-mfa-ticket",message:"MFA ticket is invalid"},ne={status:w,error:"no-mfa-ticket",message:"No MFA ticket has been provided"},ie={status:w,error:"no-refresh-token",message:"No refresh token has been provided"},ye={status:k,error:"refresher-already-running",message:"The token refresher is already running. You must wait until is has finished before submitting a new token."},_={status:k,error:"already-signed-in",message:"User is already signed in"},oe={status:k,error:"unauthenticated-user",message:"User is not authenticated"},ve={status:k,error:"user-not-anonymous",message:"User is not anonymous"},ke={status:k,error:"unverified-user",message:"Email needs verification"},Oe={status:w,error:"invalid-refresh-token",message:"Invalid or expired refresh token"},Pe={status:F,error:"invalid-sign-in-method",message:"Invalid sign-in method"},v=r=>{const e=ge.default.create({baseURL:r});return e.interceptors.response.use(n=>n,n=>{var s,t,i,u,f,h,p,E,I,m,o;return Promise.reject({error:{message:(f=(u=(i=(t=(s=n.response)==null?void 0:s.data)==null?void 0:t.message)!=null?i:n.message)!=null?u:n.request.responseText)!=null?f:JSON.stringify(n),status:(I=(E=(h=n.response)==null?void 0:h.status)!=null?E:(p=n.response)==null?void 0:p.data.statusCode)!=null?I:W,error:((o=(m=n.response)==null?void 0:m.data)==null?void 0:o.error)||n.request.statusText||"network"}})}),e},x=typeof window!="undefined",C=new Map,Ne=r=>{var e;return x&&typeof localStorage!="undefined"?localStorage.getItem(r):(e=C.get(r))!=null?e:null},be=(r,e)=>{x&&typeof localStorage!="undefined"?e?localStorage.setItem(r,e):localStorage.removeItem(r):e?C.set(r,e):C.has(r)&&C.delete(r)},ae=(r,e)=>{if(r==="localStorage"||r==="web")return Ne;if(r==="cookie")return n=>{var s;return x&&(s=K.default.get(n))!=null?s:null};if(!e)throw Error(`clientStorageType is set to '${r}' but no clientStorage has been given`);if(r==="react-native")return n=>{var s;return(s=e.getItem)==null?void 0:s.call(e,n)};if(r==="capacitor")return n=>{var s;return(s=e.get)==null?void 0:s.call(e,{key:n})};if(r==="expo-secure-storage")return n=>{var s;return(s=e.getItemAsync)==null?void 0:s.call(e,n)};if(r==="custom"){if(e.getItem&&e.removeItem)return e.getItem;if(e.getItemAsync)return e.getItemAsync;throw Error(`clientStorageType is set to 'custom' but clientStorage is missing either "getItem" and "removeItem" properties or "getItemAsync" property`)}throw Error(`Unknown storage type: ${r}`)},ce=(r,e)=>{if(r==="localStorage"||r==="web")return be;if(r==="cookie")return(n,s)=>{x&&(s?K.default.set(n,s,{expires:30}):K.default.remove(n))};if(!e)throw Error(`clientStorageType is set to '${r}' but no clienStorage has been given`);if(r==="react-native")return(n,s)=>{var t,i;return s?(t=e.setItem)==null?void 0:t.call(e,n,s):(i=e.removeItem)==null?void 0:i.call(e,n)};if(r==="capacitor")return(n,s)=>{var t,i;return s?(t=e.set)==null?void 0:t.call(e,{key:n,value:s}):(i=e.remove)==null?void 0:i.call(e,{key:n})};if(r==="expo-secure-storage")return async(n,s)=>{var t,i;return s?(t=e.setItemAsync)==null?void 0:t.call(e,n,s):(i=e.deleteItemAsync)==null?void 0:i.call(e,n)};if(r==="custom"){if(!e.removeItem)throw Error("clientStorageType is set to 'custom' but clientStorage is missing a removeItem property");if(e.setItem)return(n,s)=>{var t,i;return s?(t=e.setItem)==null?void 0:t.call(e,n,s):(i=e.removeItem)==null?void 0:i.call(e,n)};if(e.setItemAsync)return async(n,s)=>{var t,i;return s?(t=e.setItemAsync)==null?void 0:t.call(e,n,s):(i=e.removeItem)==null?void 0:i.call(e,n)};throw Error("clientStorageType is set to 'custom' but clientStorage is missing setItem or setItemAsync property")}throw Error(`Unknown storage type: ${r}`)},ue=(r,e)=>{const n=e&&Object.entries(e).map(([s,t])=>{const i=Array.isArray(t)?t.join(","):typeof t=="object"?JSON.stringify(t):t;return`${s}=${encodeURIComponent(i)}`}).join("&");return n?`${r}?${n}`:r},R=(r,e)=>{if(!(e!=null&&e.redirectTo))return e;const{redirectTo:n,...s}=e;if(!r)return n.startsWith("/")?s:e;const t=new URL(r),i=Object.fromEntries(new URLSearchParams(t.search)),u=new URL(n.startsWith("/")?t.origin+n:n),f=new URLSearchParams(u.search);let h=Object.fromEntries(f);n.startsWith("/")&&(h={...i,...h});let p=t.pathname;return u.pathname.length>1&&(p+=u.pathname.slice(1)),{...s,redirectTo:ue(u.origin+p,h)}};function N(r,e){var t;if(!e){if(typeof window=="undefined")return;e=((t=window.location)==null?void 0:t.href)||""}r=r.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+r+"(=([^&#]*)|&|#|$)"),s=n.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}function L(r){var n;if(typeof window=="undefined")return;const e=window==null?void 0:window.location;if(!!e&&e){const s=new URLSearchParams(e.search),t=new URLSearchParams((n=e.hash)==null?void 0:n.slice(1));s.delete(r),t.delete(r);let i=window.location.pathname;Array.from(s).length&&(i+=`?${s.toString()}`),Array.from(t).length&&(i+=`#${t.toString()}`),window.history.pushState({},"",i)}}const A=r=>!!r&&typeof r=="string"&&!!String(r).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),G=r=>!!r&&typeof r=="string"&&r.length>=J,Y=r=>!!r&&typeof r=="string",Ce=r=>r&&typeof r=="string"&&r.match(/^mfaTotp:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),U={user:null,mfa:null,accessToken:{value:null,expiresAt:null},refreshTimer:{startedAt:null,attempts:0,lastAttempt:null},refreshToken:{value:null},importTokenAttempts:0,errors:{}},De=({backendUrl:r,clientUrl:e,interpreter:n})=>{const s=v(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changeEmail",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:t=>S}),saveRequestError:l.assign({error:(t,{data:{error:i}})=>i}),reportError:l.send(t=>({type:"ERROR",error:t.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(t,{email:i})=>!A(i)},services:{requestChange:async(t,{email:i,options:u})=>(await s.post("/user/email/change",{newEmail:i,options:R(e,u)},{headers:{authorization:`Bearer ${n==null?void 0:n.state.context.accessToken.value}`}})).data}})},Me=({backendUrl:r,interpreter:e})=>{const n=v(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changePassword",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidPassword",actions:"saveInvalidPasswordError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidPasswordError:l.assign({error:s=>M}),saveRequestError:l.assign({error:(s,{data:{error:t}})=>t}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidPassword:(s,{password:t})=>!G(t)},services:{requestChange:(s,{password:t,ticket:i})=>n.post("/user/password",{newPassword:t,ticket:i},{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}})}})},xe=({backendUrl:r,interpreter:e})=>{const n=v(r);return l.createMachine({schema:{context:{},events:{}},tsTypes:{},predictableActionArguments:!0,id:"enableMfa",initial:"idle",context:{error:null,imageUrl:null,secret:null},states:{idle:{initial:"initial",on:{GENERATE:"generating"},states:{initial:{},error:{}}},generating:{invoke:{src:"generate",id:"generate",onDone:{target:"generated",actions:["reportGeneratedSuccess","saveGeneration"]},onError:{actions:["saveError","reportGeneratedError"],target:"idle.error"}}},generated:{initial:"idle",states:{idle:{initial:"idle",on:{ACTIVATE:[{cond:"invalidMfaType",actions:"saveInvalidMfaTypeError",target:".error"},{cond:"invalidMfaCode",actions:"saveInvalidMfaCodeError",target:".error"},{target:"activating"}]},states:{idle:{},error:{}}},activating:{invoke:{src:"activate",id:"activate",onDone:{target:"activated",actions:"reportSuccess"},onError:{actions:["saveError","reportError"],target:"idle.error"}}},activated:{type:"final"}}}}},{actions:{saveInvalidMfaTypeError:l.assign({error:s=>re}),saveInvalidMfaCodeError:l.assign({error:s=>se}),saveError:l.assign({error:(s,{data:{error:t}})=>t}),saveGeneration:l.assign({imageUrl:(s,{data:{imageUrl:t}})=>t,secret:(s,{data:{totpSecret:t}})=>t}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS"),reportGeneratedSuccess:l.send("GENERATED"),reportGeneratedError:l.send(s=>({type:"GENERATED_ERROR",error:s.error}))},guards:{invalidMfaCode:(s,{code:t})=>!t,invalidMfaType:(s,{activeMfaType:t})=>!t||t!=="totp"},services:{generate:async s=>{const{data:t}=await n.get("/mfa/totp/generate",{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}});return t},activate:(s,{code:t,activeMfaType:i})=>n.post("/user/mfa",{code:t,activeMfaType:i},{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}})}})},Ue=({backendUrl:r,clientUrl:e})=>{const n=v(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changePassword",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:s=>S}),saveRequestError:l.assign({error:(s,{data:{error:t}})=>t}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(s,{email:t})=>!A(t)},services:{requestChange:(s,{email:t,options:i})=>n.post("/user/password/reset",{email:t,options:R(e,i)})}})},Ke=({backendUrl:r,clientUrl:e})=>{const n=v(r);return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"sendVerificationEmail",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"request",id:"request",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:l.assign({error:s=>S}),saveRequestError:l.assign({error:(s,{data:{error:t}})=>t}),reportError:l.send(s=>({type:"ERROR",error:s.error})),reportSuccess:l.send("SUCCESS")},guards:{invalidEmail:(s,{email:t})=>!A(t)},services:{request:async(s,{email:t,options:i})=>(await n.post("/user/email/send-verification-email",{email:t,options:R(e,i)})).data}})},le=({backendUrl:r,clientUrl:e,clientStorageGetter:n,clientStorageSetter:s,clientStorageType:t="web",clientStorage:i,refreshIntervalTime:u,autoRefreshToken:f=!0,autoSignIn:h=!0})=>{const p=n||ae(t,i),E=s||ce(t,i),I=v(r),m=async(o,a,c)=>(await I.post(o,a,c)).data;return l.createMachine({schema:{context:{},events:{},services:{}},tsTypes:{},context:U,predictableActionArguments:!0,id:"nhost",type:"parallel",states:{authentication:{initial:"starting",on:{SESSION_UPDATE:[{cond:"hasSession",actions:["saveSession","resetTimer","reportTokenChanged"],target:".signedIn"}]},states:{starting:{tags:["loading"],always:{cond:"isSignedIn",target:"signedIn"},invoke:{id:"importRefreshToken",src:"importRefreshToken",onDone:{actions:["saveSession","reportTokenChanged"],target:"signedIn"},onError:[{cond:"shouldRetryImportToken",actions:"incrementTokenImportAttempts",target:"retryTokenImport"},{actions:["saveAuthenticationError"],target:"signedOut"}]}},retryTokenImport:{tags:["loading"],after:{RETRY_IMPORT_TOKEN_DELAY:"starting"}},signedOut:{initial:"noErrors",entry:"reportSignedOut",states:{noErrors:{},success:{},needsSmsOtp:{},needsMfa:{},failed:{},signingOut:{entry:["clearContextExceptRefreshToken"],exit:["destroyRefreshToken","reportTokenChanged"],invoke:{src:"signout",id:"signingOut",onDone:{target:"success"},onError:{target:"failed",actions:["saveAuthenticationError"]}}}},on:{SIGNIN_PASSWORD:"authenticating.password",SIGNIN_ANONYMOUS:"authenticating.anonymous",SIGNIN_SECURITY_KEY_EMAIL:"authenticating.securityKeyEmail",SIGNIN_MFA_TOTP:"authenticating.mfa.totp"}},authenticating:{entry:"resetErrors",states:{password:{invoke:{src:"signInPassword",id:"authenticateUserWithPassword",onDone:[{cond:"hasMfaTicket",actions:["saveMfaTicket"],target:"#nhost.authentication.signedOut.needsMfa"},{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"}],onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}},anonymous:{invoke:{src:"signInAnonymous",id:"authenticateAnonymously",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}}},mfa:{states:{totp:{invoke:{src:"signInMfaTotp",id:"signInMfaTotp",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:["saveAuthenticationError"],target:"#nhost.authentication.signedOut.failed"}}}}},securityKeyEmail:{invoke:{src:"signInSecurityKeyEmail",id:"authenticateUserWithSecurityKey",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}}}},signedIn:{type:"parallel",entry:["reportSignedIn","cleanUrl","broadcastToken","resetErrors"],on:{SIGNOUT:"signedOut.signingOut"},states:{refreshTimer:{id:"timer",initial:"idle",states:{disabled:{type:"final"},stopped:{always:{cond:"noToken",target:"idle"}},idle:{always:[{cond:"isAutoRefreshDisabled",target:"disabled"},{cond:"hasRefreshToken",target:"running"}]},running:{initial:"pending",entry:"resetTimer",states:{pending:{after:{1e3:{internal:!1,target:"pending"}},always:{cond:"refreshTimerShouldRefresh",target:"refreshing"}},refreshing:{invoke:{src:"refreshToken",id:"refreshToken",onDone:{actions:["saveSession","resetTimer","reportTokenChanged"],target:"pending"},onError:[{actions:"saveRefreshAttempt",target:"pending"}]}}}}}}}}}},token:{initial:"idle",states:{idle:{on:{TRY_TOKEN:"running"},initial:"noErrors",states:{noErrors:{},error:{}}},running:{invoke:{src:"refreshToken",id:"authenticateWithToken",onDone:{actions:["saveSession","reportTokenChanged"],target:["#nhost.authentication.signedIn","idle.noErrors"]},onError:[{cond:"isSignedIn",target:"idle.error"},{actions:"saveAuthenticationError",target:["#nhost.authentication.signedOut.failed","idle.error"]}]}}}},registration:{initial:"incomplete",on:{SIGNED_IN:[{cond:"isAnonymous",target:".incomplete"},".complete"]},states:{incomplete:{on:{SIGNUP_EMAIL_PASSWORD:"emailPassword",SIGNUP_SECURITY_KEY:"securityKey",PASSWORDLESS_EMAIL:"passwordlessEmail",PASSWORDLESS_SMS:"passwordlessSms",PASSWORDLESS_SMS_OTP:"passwordlessSmsOtp"},initial:"noErrors",states:{noErrors:{},needsEmailVerification:{},needsOtp:{},failed:{}}},emailPassword:{entry:["resetErrors"],invoke:{src:"signUpEmailPassword",id:"signUpEmailPassword",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]}],onError:[{cond:"unverified",target:"incomplete.needsEmailVerification"},{actions:"saveRegistrationError",target:"incomplete.failed"}]}},securityKey:{entry:["resetErrors"],invoke:{src:"signUpSecurityKey",id:"signUpSecurityKey",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]}],onError:[{cond:"unverified",target:"incomplete.needsEmailVerification"},{actions:"saveRegistrationError",target:"incomplete.failed"}]}},passwordlessEmail:{entry:["resetErrors"],invoke:{src:"passwordlessEmail",id:"passwordlessEmail",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},passwordlessSms:{entry:["resetErrors"],invoke:{src:"passwordlessSms",id:"passwordlessSms",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsOtp"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},passwordlessSmsOtp:{entry:["resetErrors"],invoke:{src:"passwordlessSmsOtp",id:"passwordlessSmsOtp",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},complete:{on:{SIGNED_OUT:"incomplete"}}}}}},{actions:{reportSignedIn:l.send("SIGNED_IN"),reportSignedOut:l.send("SIGNED_OUT"),reportTokenChanged:l.send("TOKEN_CHANGED"),incrementTokenImportAttempts:l.assign({importTokenAttempts:({importTokenAttempts:o})=>o+1}),clearContext:l.assign(()=>(E(P,null),E(O,null),{...U})),clearContextExceptRefreshToken:l.assign(({refreshToken:{value:o}})=>(E(P,null),{...U,refreshToken:{value:o}})),saveSession:l.assign({user:(o,{data:a})=>{var c;return((c=a==null?void 0:a.session)==null?void 0:c.user)||null},accessToken:(o,{data:a})=>{if(a.session){const{accessTokenExpiresIn:c,accessToken:d}=a.session,T=new Date(Date.now()+c*1e3);return E(P,T.toISOString()),{value:d,expiresAt:T}}return E(P,null),{value:null,expiresAt:null}},refreshToken:(o,{data:a})=>{var d;const c=((d=a.session)==null?void 0:d.refreshToken)||null;return c&&E(O,c),{value:c}}}),saveMfaTicket:l.assign({mfa:(o,a)=>{var c;return(c=a.data)==null?void 0:c.mfa}}),resetTimer:l.assign({refreshTimer:o=>({startedAt:new Date,attempts:0,lastAttempt:null})}),saveRefreshAttempt:l.assign({refreshTimer:(o,a)=>({startedAt:o.refreshTimer.startedAt,attempts:o.refreshTimer.attempts+1,lastAttempt:new Date})}),saveAuthenticationError:l.assign({errors:({errors:o},{data:{error:a}})=>({...o,authentication:a})}),resetErrors:l.assign({errors:o=>({}),importTokenAttempts:o=>0}),saveRegistrationError:l.assign({errors:({errors:o},{data:{error:a}})=>({...o,registration:a})}),destroyRefreshToken:l.assign({refreshToken:o=>(E(O,null),{value:null})}),cleanUrl:()=>{h&&N("refreshToken")&&(L("refreshToken"),L("type"))},broadcastToken:o=>{if(h)try{new BroadcastChannel("nhost").postMessage(o.refreshToken.value)}catch{}}},guards:{isAnonymous:(o,a)=>{var c;return!!((c=o.user)!=null&&c.isAnonymous)},isSignedIn:o=>!!o.user&&!!o.refreshToken.value&&!!o.accessToken.value,noToken:o=>!o.refreshToken.value,hasRefreshToken:o=>!!o.refreshToken.value,isAutoRefreshDisabled:()=>!f,refreshTimerShouldRefresh:o=>{const{expiresAt:a}=o.accessToken;return a?o.refreshTimer.lastAttempt?Date.now()-o.refreshTimer.lastAttempt.getTime()>ee*1e3:u&&Date.now()-o.refreshTimer.startedAt.getTime()>u*1e3?!0:a.getTime()-Date.now()-1e3*Z<=0:!1},shouldRetryImportToken:(o,a)=>a.data.error.status===W||a.data.error.status>=500,unverified:(o,{data:{error:a}})=>a.status===401&&(a.message==="Email is not verified"||a.error==="unverified-user"),hasSession:(o,a)=>{var c;return!!((c=a.data)!=null&&c.session)},hasMfaTicket:(o,a)=>{var c;return!!((c=a.data)!=null&&c.mfa)}},services:{signInPassword:(o,{email:a,password:c})=>A(a)?G(c)?m("/signin/email-password",{email:a,password:c}):Promise.reject({error:M}):Promise.reject({error:S}),passwordlessSms:(o,{phoneNumber:a,options:c})=>{var d;return Y(a)?(d=o.user)!=null&&d.isAnonymous?(console.warn("Deanonymisation from a phone number is not yet implemented in hasura-auth"),m("/user/deanonymize",{signInMethod:"passwordless",connection:"sms",phoneNumber:a,options:R(e,c)},{headers:{authorization:`Bearer ${o.accessToken.value}`}})):m("/signin/passwordless/sms",{phoneNumber:a,options:R(e,c)}):Promise.reject({error:V})},passwordlessSmsOtp:(o,{phoneNumber:a,otp:c})=>Y(a)?m("/signin/passwordless/sms/otp",{phoneNumber:a,otp:c}):Promise.reject({error:V}),passwordlessEmail:(o,{email:a,options:c})=>{var d;return A(a)?(d=o.user)!=null&&d.isAnonymous?m("/user/deanonymize",{signInMethod:"passwordless",connection:"email",email:a,options:R(e,c)},{headers:{authorization:`Bearer ${o.accessToken.value}`}}):m("/signin/passwordless/email",{email:a,options:R(e,c)}):Promise.reject({error:S})},signInAnonymous:o=>m("/signin/anonymous"),signInMfaTotp:(o,a)=>{var d;const c=a.ticket||((d=o.mfa)==null?void 0:d.ticket);return c?Ce(c)?m("/signin/mfa/totp",{ticket:c,otp:a.otp}):Promise.reject({error:te}):Promise.reject({error:ne})},signInSecurityKeyEmail:async(o,{email:a})=>{if(!A(a))throw new b(S);const c=await m("/signin/webauthn",{email:a});let d;try{d=await Se(c)}catch(T){throw new b(T)}return m("/signin/webauthn/verify",{email:a,credential:d})},refreshToken:async(o,a)=>{const c=a.type==="TRY_TOKEN"?a.token:o.refreshToken.value;return{session:await m("/token",{refreshToken:c}),error:null}},signout:(o,a)=>m("/signout",{refreshToken:o.refreshToken.value,all:!!a.all}),signUpEmailPassword:async(o,{email:a,password:c,options:d})=>{var T;return A(a)?G(c)?(T=o.user)!=null&&T.isAnonymous?m("/user/deanonymize",{signInMethod:"email-password",email:a,password:c,options:R(e,d)},{headers:{authorization:`Bearer ${o.accessToken.value}`}}):m("/signup/email-password",{email:a,password:c,options:R(e,d)}):Promise.reject({error:M}):Promise.reject({error:S})},signUpSecurityKey:async(o,{email:a,options:c})=>{if(!A(a))return Promise.reject({error:S});const d=c==null?void 0:c.nickname;d&&delete c.nickname;const T=await m("/signup/webauthn",{email:a,options:c});let H;try{H=await X(T)}catch(me){throw new b(me)}return m("/signup/webauthn/verify",{credential:H,options:{redirectTo:c==null?void 0:c.redirectTo,nickname:d}})},importRefreshToken:async()=>{let o=null;if(h){const c=N("refreshToken")||null;if(c)try{return{session:await m("/token",{refreshToken:c}),error:null}}catch(d){o=d.error}else{const d=N("error");if(d)return Promise.reject({session:null,error:{status:w,error:d,message:N("errorDescription")||d}})}}const a=await p(O);if(a)try{return{session:await m("/token",{refreshToken:a}),error:null}}catch(c){return o=c.error,Promise.reject({error:o})}return o||(o=ie),Promise.reject({error:o})}},delays:{RETRY_IMPORT_TOKEN_DELAY:({importTokenAttempts:o})=>o<5?1e3:5e3}})};class de{constructor({clientStorageType:e="web",autoSignIn:n=!0,autoRefreshToken:s=!0,start:t=!0,backendUrl:i,clientUrl:u,devTools:f,...h}){if(this._subscriptions=new Set,this.backendUrl=i,this.clientUrl=u,this.machine=le({...h,backendUrl:i,clientUrl:u,clientStorageType:e,autoSignIn:n,autoRefreshToken:s}),t&&(this.interpreter=l.interpret(this.machine,{devTools:f}),this.interpreter.start()),typeof window!="undefined"&&n)try{this._channel=new BroadcastChannel("nhost"),this._channel.addEventListener("message",p=>{var I;const E=(I=this.interpreter)==null?void 0:I.state.context.refreshToken.value;this.interpreter&&p.data!==E&&this.interpreter.send("TRY_TOKEN",{token:p.data})})}catch{}}get interpreter(){return this._interpreter}set interpreter(e){this._interpreter=e,e&&this._subscriptions.forEach(n=>n(this))}onStart(e){this.interpreter?e(this):this._subscriptions.add(e)}}const $=typeof window!="undefined";class fe extends de{constructor({...e}){super({...e,autoSignIn:$&&e.autoSignIn,autoRefreshToken:$&&e.autoRefreshToken,clientStorageType:"cookie"})}}const Ve=fe,Le=async({backendUrl:r,interpreter:e},n)=>{const s=v(r);try{const{data:t}=await s.post("/user/webauthn/add",{},{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}});let i;try{i=await X(t)}catch(f){throw new b(f)}const{data:u}=await s.post("/user/webauthn/verify",{credential:i,nickname:n},{headers:{authorization:`Bearer ${e==null?void 0:e.state.context.accessToken.value}`}});return{key:u,isError:!1,error:null,isSuccess:!0}}catch(t){const{error:i}=t;return{isError:!0,error:i,isSuccess:!1}}},Ge=async(r,e,n)=>new Promise(s=>{r.send("REQUEST",{email:e,options:n}),r.onTransition(t=>{t.matches({idle:"error"})?s({error:t.context.error,isError:!0,needsEmailVerification:!1}):t.matches({idle:"success"})&&s({error:null,isError:!1,needsEmailVerification:!0})})}),qe=async(r,e,n)=>new Promise(s=>{r.send("REQUEST",{password:e,ticket:n}),r.onTransition(t=>{t.matches({idle:"error"})?s({error:t.context.error,isError:!0,isSuccess:!1}):t.matches({idle:"success"})&&s({error:null,isError:!1,isSuccess:!0})})}),We=r=>new Promise(e=>{r.send("GENERATE"),r.onTransition(n=>{n.matches("generated")?e({error:null,isError:!1,isGenerated:!0,qrCodeDataUrl:n.context.imageUrl||""}):n.matches({idle:"error"})&&e({error:n.context.error||null,isError:!0,isGenerated:!1,qrCodeDataUrl:""})})}),Fe=(r,e)=>new Promise(n=>{r.send("ACTIVATE",{activeMfaType:"totp",code:e}),r.onTransition(s=>{s.matches({generated:"activated"})?n({error:null,isActivated:!0,isError:!1}):s.matches({generated:{idle:"error"}})&&n({error:s.context.error,isActivated:!1,isError:!0})})}),He=async(r,e,n)=>new Promise(s=>{r.send("REQUEST",{email:e,options:n}),r.onTransition(t=>{t.matches({idle:"error"})?s({error:t.context.error,isError:!0,isSent:!1}):t.matches({idle:"success"})&&s({error:null,isError:!1,isSent:!0})})}),Ye=(r,e,n)=>new Promise(s=>{r.send("REQUEST",{email:e,options:n}),r.onTransition(t=>{t.matches({idle:"error"})?s({error:t.context.error,isError:!0,isSent:!1}):t.matches({idle:"success"})&&s({error:null,isError:!1,isSent:!0})})}),$e=r=>new Promise(e=>{const{changed:n}=r.send("SIGNIN_ANONYMOUS");n||e({isSuccess:!1,isError:!0,error:_,user:null,accessToken:null}),r.onTransition(s=>{s.matches({authentication:"signedIn"})&&e({isSuccess:!0,isError:!1,error:null,user:s.context.user,accessToken:s.context.accessToken.value}),s.matches({authentication:{signedOut:"failed"}})&&e({isSuccess:!1,isError:!0,error:s.context.errors.authentication||null,user:null,accessToken:null})})}),je=(r,e,n)=>new Promise(s=>{const{changed:t,context:i}=r.send("SIGNIN_PASSWORD",{email:e,password:n});if(!t)return s({accessToken:i.accessToken.value,error:_,isError:!0,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:i.user});r.onTransition(u=>{u.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,needsMfaOtp:!1,mfa:null,user:null}):u.matches({authentication:{signedOut:"needsMfa"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!0,mfa:u.context.mfa,user:null}):u.matches({authentication:{signedOut:"failed"}})?s({accessToken:null,error:u.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:null}):u.matches({authentication:"signedIn"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:u.context.user})})}),Be=(r,e,n)=>new Promise(s=>{const{changed:t}=r.send("PASSWORDLESS_EMAIL",{email:e,options:n});if(!t)return s({error:_,isError:!0,isSuccess:!1});r.onTransition(i=>{i.matches("registration.incomplete.failed")?s({error:i.context.errors.registration||null,isError:!0,isSuccess:!1}):i.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})&&s({error:null,isError:!1,isSuccess:!0})})}),ze=(r,e)=>new Promise(n=>{const{changed:s,context:t}=r.send({type:"SIGNIN_SECURITY_KEY_EMAIL",email:e});if(!s)return n({accessToken:t.accessToken.value,error:_,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:t.user});r.onTransition(i=>{i.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?n({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):i.matches({authentication:{signedOut:"failed"}})?n({accessToken:null,error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):i.matches({authentication:"signedIn"})&&n({accessToken:i.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:i.context.user})})}),Qe=(r,e,n)=>new Promise(s=>{const{changed:t,context:i}=r.send("SIGNIN_MFA_TOTP",{otp:e,ticket:n});if(!t)return s({accessToken:i.accessToken.value,error:_,isError:!0,isSuccess:!1,user:i.user});r.onTransition(u=>{u.matches({authentication:{signedOut:"failed"}})?s({accessToken:null,error:u.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null}):u.matches({authentication:"signedIn"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,user:u.context.user})})}),Xe=(r,e,n)=>new Promise(s=>{const{changed:t}=r.send("PASSWORDLESS_SMS",{phoneNumber:e,options:n});if(!t)return s({error:_,isError:!0,isSuccess:!1,needsOtp:!1});r.onTransition(i=>{i.matches("registration.incomplete.needsOtp")?s({error:null,isError:!1,isSuccess:!1,needsOtp:!0}):i.matches("registration.incomplete.failed")&&s({error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,needsOtp:!1})})}),Je=(r,e,n)=>new Promise(s=>{const{changed:t}=r.send({type:"PASSWORDLESS_SMS_OTP",phoneNumber:e,otp:n});if(!t)return s({error:_,isError:!0,isSuccess:!1,user:null,accessToken:null});r.onTransition(i=>{i.matches({authentication:"signedIn"})?s({error:null,isError:!1,isSuccess:!0,user:i.context.user,accessToken:i.context.accessToken.value}):i.matches({registration:{incomplete:"failed"}})&&s({error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null,accessToken:null})})}),Ze=async(r,e)=>new Promise(n=>{const{event:s}=r.send("SIGNOUT",{all:e});if(s.type!=="SIGNED_OUT")return n({isSuccess:!1,isError:!0,error:oe});r.onTransition(t=>{t.matches({authentication:{signedOut:"success"}})?n({isSuccess:!0,isError:!1,error:null}):t.matches("authentication.signedOut.failed")&&n({isSuccess:!1,isError:!0,error:t.context.errors.signout||null})})}),er=(r,e,n,s)=>new Promise(t=>{const{changed:i,context:u}=r.send("SIGNUP_EMAIL_PASSWORD",{email:e,password:n,options:s});if(!i)return t({error:_,accessToken:u.accessToken.value,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:u.user});r.onTransition(f=>{f.matches("registration.incomplete.failed")?t({accessToken:null,error:f.context.errors.registration||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):f.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?t({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):f.matches({authentication:"signedIn",registration:"complete"})&&t({accessToken:f.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:f.context.user})})}),rr=(r,e,n)=>new Promise(s=>{const{changed:t,context:i}=r.send("SIGNUP_SECURITY_KEY",{email:e,options:n});if(!t)return s({error:_,accessToken:i.accessToken.value,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:i.user});r.onTransition(u=>{u.matches("registration.incomplete.failed")?s({accessToken:null,error:u.context.errors.registration||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):u.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?s({accessToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):u.matches({authentication:"signedIn",registration:"complete"})&&s({accessToken:u.context.accessToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:u.context.user})})});exports.AuthClient=de;exports.AuthClientSSR=Ve;exports.AuthCookieClient=fe;exports.CodifiedError=b;exports.EMAIL_NEEDS_VERIFICATION=ke;exports.INVALID_EMAIL_ERROR=S;exports.INVALID_MFA_CODE_ERROR=se;exports.INVALID_MFA_TICKET_ERROR=te;exports.INVALID_MFA_TYPE_ERROR=re;exports.INVALID_PASSWORD_ERROR=M;exports.INVALID_PHONE_NUMBER_ERROR=V;exports.INVALID_REFRESH_TOKEN=Oe;exports.INVALID_SIGN_IN_METHOD=Pe;exports.MIN_PASSWORD_LENGTH=J;exports.NETWORK_ERROR_CODE=W;exports.NHOST_JWT_EXPIRES_AT_KEY=P;exports.NHOST_REFRESH_TOKEN_KEY=O;exports.NO_MFA_TICKET_ERROR=ne;exports.NO_REFRESH_TOKEN=ie;exports.OTHER_ERROR_CODE=F;exports.REFRESH_TOKEN_RETRY_INTERVAL=ee;exports.REFRESH_TOKEN_RETRY_MAX_ATTEMPTS=Ae;exports.STATE_ERROR_CODE=k;exports.TOKEN_REFRESHER_RUNNING_ERROR=ye;exports.TOKEN_REFRESH_MARGIN=Z;exports.USER_ALREADY_SIGNED_IN=_;exports.USER_NOT_ANONYMOUS=ve;exports.USER_UNAUTHENTICATED=oe;exports.VALIDATION_ERROR_CODE=w;exports.activateMfaPromise=Fe;exports.addSecurityKeyPromise=Le;exports.changeEmailPromise=Ge;exports.changePasswordPromise=qe;exports.createAuthMachine=le;exports.createChangeEmailMachine=De;exports.createChangePasswordMachine=Me;exports.createEnableMfaMachine=xe;exports.createResetPasswordMachine=Ue;exports.createSendVerificationEmailMachine=Ke;exports.encodeQueryParameters=ue;exports.generateQrCodePromise=We;exports.getParameterByName=N;exports.localStorageGetter=ae;exports.localStorageSetter=ce;exports.removeParameterFromWindow=L;exports.resetPasswordPromise=He;exports.rewriteRedirectTo=R;exports.sendVerificationEmailPromise=Ye;exports.signInAnonymousPromise=$e;exports.signInEmailPasswordPromise=je;exports.signInEmailPasswordlessPromise=Be;exports.signInEmailSecurityKeyPromise=ze;exports.signInMfaTotpPromise=Qe;exports.signInSmsPasswordlessOtpPromise=Je;exports.signInSmsPasswordlessPromise=Xe;exports.signOutPromise=Ze;exports.signUpEmailPasswordPromise=er;exports.signUpEmailSecurityKeyPromise=rr;
//# sourceMappingURL=index.cjs.js.map
